/**
 *
 * @module   local_notificationsagent/statusrule
 * @copyright 2023, ISYC
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */ define(["core/str","core/notification"],function(t,a){return{init:function(){$("#statusRuleModal").on("show.bs.modal",function(a){var e=($button=$(a.relatedTarget)).data("idrule"),n=$button.data("textstatus"),o=$(this),s=[{key:"statustitle",component:"local_notificationsagent",param:{textstatus:n,title:$("#card-"+e+" .name").text()}},{key:"statuscontent",component:"local_notificationsagent",param:{textstatus:n.toLowerCase(),title:$("#card-"+e+" .name").text()}}];t.get_strings(s).then(function(t){o.find(".modal-title").text(t[0]),o.find(".modal-body > div").text(t[1])})}),$("#statusRuleModal #acceptStatusRule").on("click",function(){$("#statusRuleModal").modal("hide"),t.get_strings([{key:"statusacceptactivated",component:"local_notificationsagent"},{key:"statusacceptpaused",component:"local_notificationsagent"}]).then(function(t){$button.addClass("d-none"),$button.data("valuestatus")?($('a[data-idrule="'+$button.data("idrule")+'"][data-target="#statusRuleModal"][data-valuestatus="0"]').removeClass("d-none"),a.addNotification({message:t[0],type:"info"})):($('a[data-idrule="'+$button.data("idrule")+'"][data-target="#statusRuleModal"][data-valuestatus="1"]').removeClass("d-none"),a.addNotification({message:t[1],type:"info"}))})})}}});