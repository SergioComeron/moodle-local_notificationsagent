{"version":3,"file":"import.min.js","sources":["../../src/rule/import.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n// Project implemented by the \\\"Recovery, Transformation and Resilience Plan.\n// Funded by the European Union - Next GenerationEU\\\".\n//\n// Produced by the UNIMOODLE University Group: Universities of\n// Valladolid, Complutense de Madrid, UPV/EHU, León, Salamanca,\n// Illes Balears, Valencia, Rey Juan Carlos, La Laguna, Zaragoza, Málaga,\n// Córdoba, Extremadura, Vigo, Las Palmas de Gran Canaria y Burgos.\n\n/**\n * Version details\n *\n * @copyright  2023 Proyecto UNIMOODLE\n * @author     UNIMOODLE Group (Coordinator) <direccion.area.estrategia.digital@uva.es>\n * @author     ISYC <soporte@isyc.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport ModalForm from 'core_form/modalform';\nimport {get_string as getString} from 'core/str';\nimport Notification from 'core/notification';\n\n/**\n * Selectors for the Share Button.\n *\n * @property {string} importTemplateModal The element ID of the Share Rule button.\n */\nconst selectors = {\n    importTemplateModal: '.importtemplate',\n};\n\n/**\n * Initialises the Share Rule module.\n *\n * @method init\n */\nexport const init = async() => {\n    let importTemplateModal = document.querySelector(selectors.importTemplateModal);\n\n    // In this example we will open the modal dialogue with the form when user clicks on the edit link:\n    importTemplateModal.addEventListener('click', e => {\n        e.preventDefault();\n        const element = e.target;\n\n        const modalForm = new ModalForm({\n            modalConfig: {\n                title: getString('import_title', 'local_notificationsagent'),\n            },\n            formClass: 'local_notificationsagent\\\\form\\\\import_form',\n            args: {courseid: element.getAttribute('data-courseid')},\n            saveButtonText: getString('import_apply', 'local_notificationsagent'),\n        });\n\n        modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, event => {\n            if (event.detail.result) {\n                window.location.assign(event.detail.url);\n            } else {\n                Notification.addNotification({\n                    type: 'error',\n                    message: event.detail.errors.join('<br>')\n                });\n            }\n        });\n        modalForm.show();\n    });\n};"],"names":["selectors","async","document","querySelector","addEventListener","e","preventDefault","element","target","modalForm","ModalForm","modalConfig","title","formClass","args","courseid","getAttribute","saveButtonText","events","FORM_SUBMITTED","event","detail","result","window","location","assign","url","addNotification","type","message","errors","join","show"],"mappings":";;;;;;;;0LAwCMA,8BACmB,gCAQLC,UACUC,SAASC,cAAcH,+BAG7BI,iBAAiB,SAASC,IAC1CA,EAAEC,uBACIC,QAAUF,EAAEG,OAEZC,UAAY,IAAIC,mBAAU,CAC5BC,YAAa,CACTC,OAAO,mBAAU,eAAgB,6BAErCC,UAAW,8CACXC,KAAM,CAACC,SAAUR,QAAQS,aAAa,kBACtCC,gBAAgB,mBAAU,eAAgB,8BAG9CR,UAAUL,iBAAiBK,UAAUS,OAAOC,gBAAgBC,QACpDA,MAAMC,OAAOC,OACbC,OAAOC,SAASC,OAAOL,MAAMC,OAAOK,2BAEvBC,gBAAgB,CACzBC,KAAM,QACNC,QAAST,MAAMC,OAAOS,OAAOC,KAAK,aAI9CtB,UAAUuB"}