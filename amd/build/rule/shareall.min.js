define("local_notificationsagent/rule/shareall",["exports","core/str","core/notification","local_notificationsagent/rule/repository"],(function(_exports,_str,_notification,_repository){var obj;
/**
   * Version details
   *
   * @package    local_notificationsagent
   * @copyright  2023 Proyecto UNIMOODLE
   * @author     UNIMOODLE Group (Coordinator) <direccion.area.estrategia.digital@uva.es>
   * @author     ISYC <soporte@isyc.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=(obj=_notification)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{$("#shareAllRuleModal").on("show.bs.modal",(function(e){shareAllRuleBtn=$(e.relatedTarget);let id=shareAllRuleBtn.data("ruleid");const modal=$(this),requiredStrings=[{key:"sharealltitle",component:"local_notificationsagent",param:{title:$("#card-"+id+" .name").text()}},{key:"shareallcontent",component:"local_notificationsagent",param:{title:$("#card-"+id+" .name").text()}}];(0,_str.get_strings)(requiredStrings).then((_ref=>{let[ruleTitle,ruleContent]=_ref;modal.find(".modal-title").text(ruleTitle),modal.find(".modal-body > div").text(ruleContent)}))})),$("#shareAllRuleModal #acceptShareAllRule").on("click",(e=>{e.preventDefault(),setShareAllRule(shareAllRuleBtn)}))};const setShareAllRule=async shareAllRuleBtn=>{let id=shareAllRuleBtn.data("ruleid");$("#shareAllRuleModal").modal("hide");try{response=await(0,_repository.shareAllRule)(id),$.isEmptyObject(response.warnings)?window.location.reload():_notification.default.addNotification({message:response.warnings[0].message,type:"error"})}catch(exception){_notification.default.exception(exception)}}}));

//# sourceMappingURL=shareall.min.js.map