/**
 * Module javascript to place conditionactions.
 *
 * @module   mod_simplemod/notification_conditionactions
 * @category  Classes - autoloading
 * @copyright 2023, ISYC
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */ define([],function(){return{init:function(){document.querySelectorAll("h5>i.icon[id*='_']:not(.disabled)").forEach(function(e){e.addEventListener("click",function(e){let t=e.target.id.split("_")[0].replace(/[0-9]/g,""),n=e.target.id.split("_")[1],i=parseInt(e.target.id.replace(t,"").replace("_remove","")),a={key:t.toUpperCase()+"S",action:n,keyelementsession:i};$.ajax({type:"POST",url:window.location.pathname.substring(0,"/local/notificationsagent/editrule.php"),data:a,success:function(e){"success"===e.state&&window.location.reload()},error:function(e,t,n){console.log("Status: "+t),console.log(n)},dataType:"json"})})})}}});